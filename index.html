<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mason Co. Daily Timesheet</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 16px;
            color: #fff;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 24px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        header p {
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
        }

        .card {
            background: rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .card-title {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: rgba(255,255,255,0.5);
            margin-bottom: 12px;
        }

        label {
            display: block;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            margin-bottom: 6px;
        }

        input, select, textarea {
            width: 100%;
            padding: 14px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            background: rgba(255,255,255,0.05);
            color: #fff;
            font-size: 1rem;
            margin-bottom: 12px;
            transition: border-color 0.2s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4a9eff;
        }

        select {
            cursor: pointer;
        }

        select option {
            background: #1a1a2e;
            color: #fff;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .worker-grid {
            display: grid;
            gap: 8px;
        }

        .worker-row {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .worker-row.selected {
            background: rgba(74, 158, 255, 0.15);
            border-color: rgba(74, 158, 255, 0.4);
        }

        .worker-checkbox {
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: #4a9eff;
        }

        .worker-name {
            flex: 1;
            font-size: 0.95rem;
        }

        .worker-hours {
            width: 70px;
            padding: 10px;
            text-align: center;
            margin-bottom: 0;
        }

        .worker-hours:disabled {
            opacity: 0.3;
        }

        .equipment-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 12px;
        }

        .equipment-tag {
            padding: 10px 16px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .equipment-tag.selected {
            background: rgba(74, 158, 255, 0.2);
            border-color: #4a9eff;
            color: #4a9eff;
        }

        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.2s;
            margin-bottom: 10px;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-primary {
            background: linear-gradient(135deg, #4a9eff 0%, #006eff 100%);
            color: white;
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .btn-success {
            background: linear-gradient(135deg, #34d399 0%, #059669 100%);
            color: white;
        }

        .preview-section {
            display: none;
        }

        .preview-section.show {
            display: block;
        }

        .preview-box {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 16px;
            font-family: monospace;
            font-size: 0.85rem;
            line-height: 1.6;
            white-space: pre-wrap;
            margin-bottom: 16px;
            max-height: 300px;
            overflow-y: auto;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .action-buttons .btn {
            margin-bottom: 0;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #34d399;
            color: #000;
            padding: 14px 24px;
            border-radius: 10px;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 100;
        }

        .toast.show {
            opacity: 1;
        }

        .foreman-field {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ§± Mason Co.</h1>
            <p>Daily Timesheet</p>
        </header>

        <div class="card">
            <div class="card-title">Basic Info</div>
            <label for="foreman">Foreman Name</label>
            <input type="text" id="foreman" placeholder="Enter your name" class="foreman-field">
            
            <label for="date">Date</label>
            <input type="date" id="date">
            
            <label for="jobsite">Job Site</label>
            <select id="jobsite">
                <option value="">Select job site...</option>
                <option value="Baseyard">Baseyard</option>
                <option value="Office">Office</option>
                <option value="P/U Skidsteer">P/U Skidsteer</option>
                <option value="Asphalt Plant">Asphalt Plant</option>
                <option value="Airport Job">Airport Job</option>
                <option value="Jays Driveway">Jay's Driveway</option>
                <option value="Schow">Schow</option>
                <option value="Braun">Braun</option>
                <option value="Punua">Punua</option>
                <option value="McPhearson">McPhearson</option>
            </select>
        </div>

        <div class="card">
            <div class="card-title">Workers & Hours</div>
            <p style="font-size: 0.85rem; color: rgba(255,255,255,0.5); margin-bottom: 12px;">Check workers present and enter their hours</p>
            <div class="worker-grid" id="workerGrid">
                <!-- Workers will be populated by JS -->
            </div>
        </div>

        <div class="card">
            <div class="card-title">Equipment Used</div>
            <div class="equipment-tags" id="equipmentTags">
                <span class="equipment-tag" data-equip="Skidsteer">Skidsteer</span>
                <span class="equipment-tag" data-equip="Excavator">Excavator</span>
                <span class="equipment-tag" data-equip="Mixer">Mixer</span>
                <span class="equipment-tag" data-equip="Dump Truck">Dump Truck</span>
                <span class="equipment-tag" data-equip="Forklift">Forklift</span>
                <span class="equipment-tag" data-equip="Compactor">Compactor</span>
                <span class="equipment-tag" data-equip="Saw">Saw</span>
                <span class="equipment-tag" data-equip="Scaffolding">Scaffolding</span>
            </div>
            <input type="text" id="otherEquipment" placeholder="Other equipment (optional)">
        </div>

        <div class="card">
            <div class="card-title">Notes</div>
            <textarea id="notes" placeholder="Any notes about the day's work, issues, progress, etc."></textarea>
        </div>

        <button class="btn btn-primary" onclick="generatePreview()">Preview Timesheet</button>

        <div class="preview-section" id="previewSection">
            <div class="card">
                <div class="card-title">Preview</div>
                <div class="preview-box" id="previewBox"></div>
                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="copyToClipboard()">ðŸ“‹ Copy</button>
                    <button class="btn btn-success" onclick="sendText()">ðŸ’¬ Text</button>
                </div>
                <button class="btn btn-secondary" style="margin-top: 10px;" onclick="sendEmail()">ðŸ“§ Email</button>
            </div>
        </div>

        <button class="btn btn-secondary" onclick="clearForm()">Clear Form</button>
    </div>

    <div class="toast" id="toast">Copied to clipboard!</div>

    <script>
        const workers = [
            'Jordan', 'Kamalei', 'Dave', 'Joe', 'Ian', 'Ray', 
            'Jestin', 'Duke', 'Keahi', 'Ruben', 'Beau', 'Seth', 'Kawika'
        ];

        const selectedEquipment = new Set();

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date
            document.getElementById('date').valueAsDate = new Date();
            
            // Populate workers
            const grid = document.getElementById('workerGrid');
            workers.forEach(worker => {
                const row = document.createElement('div');
                row.className = 'worker-row';
                row.innerHTML = `
                    <input type="checkbox" class="worker-checkbox" id="check_${worker}" onchange="toggleWorker('${worker}')">
                    <label class="worker-name" for="check_${worker}">${worker}</label>
                    <input type="number" class="worker-hours" id="hours_${worker}" placeholder="Hrs" min="0" max="24" step="0.5" disabled>
                `;
                grid.appendChild(row);
            });

            // Equipment tag listeners
            document.querySelectorAll('.equipment-tag').forEach(tag => {
                tag.addEventListener('click', function() {
                    const equip = this.dataset.equip;
                    if (selectedEquipment.has(equip)) {
                        selectedEquipment.delete(equip);
                        this.classList.remove('selected');
                    } else {
                        selectedEquipment.add(equip);
                        this.classList.add('selected');
                    }
                });
            });
        });

        function toggleWorker(worker) {
            const checkbox = document.getElementById(`check_${worker}`);
            const hoursInput = document.getElementById(`hours_${worker}`);
            const row = checkbox.closest('.worker-row');
            
            if (checkbox.checked) {
                hoursInput.disabled = false;
                hoursInput.focus();
                row.classList.add('selected');
            } else {
                hoursInput.disabled = true;
                hoursInput.value = '';
                row.classList.remove('selected');
            }
        }

        function generatePreview() {
            const foreman = document.getElementById('foreman').value || 'Not specified';
            const date = document.getElementById('date').value;
            const jobsite = document.getElementById('jobsite').value || 'Not specified';
            const notes = document.getElementById('notes').value || 'None';
            const otherEquip = document.getElementById('otherEquipment').value;

            // Format date nicely
            const dateObj = new Date(date + 'T00:00:00');
            const formattedDate = dateObj.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            // Get selected workers and hours
            let workerLines = [];
            workers.forEach(worker => {
                const checkbox = document.getElementById(`check_${worker}`);
                const hours = document.getElementById(`hours_${worker}`).value;
                if (checkbox.checked && hours) {
                    workerLines.push(`  â€¢ ${worker}: ${hours} hrs`);
                }
            });

            // Get equipment
            let equipmentList = [...selectedEquipment];
            if (otherEquip) equipmentList.push(otherEquip);
            const equipmentStr = equipmentList.length > 0 ? equipmentList.join(', ') : 'None';

            const preview = `
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  MASON CO. DAILY TIMESHEET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“… Date: ${formattedDate}
ðŸ‘· Foreman: ${foreman}
ðŸ“ Job Site: ${jobsite}

WORKERS & HOURS:
${workerLines.length > 0 ? workerLines.join('\n') : '  No workers entered'}

ðŸ”§ Equipment: ${equipmentStr}

ðŸ“ Notes:
${notes}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            `.trim();

            document.getElementById('previewBox').textContent = preview;
            document.getElementById('previewSection').classList.add('show');
            document.getElementById('previewSection').scrollIntoView({ behavior: 'smooth' });
        }

        function copyToClipboard() {
            const text = document.getElementById('previewBox').textContent;
            navigator.clipboard.writeText(text).then(() => {
                showToast('Copied to clipboard!');
            });
        }

        function sendText() {
            const text = encodeURIComponent(document.getElementById('previewBox').textContent);
            window.location.href = `sms:?body=${text}`;
        }

        function sendEmail() {
            const date = document.getElementById('date').value;
            const jobsite = document.getElementById('jobsite').value || 'Job Site';
            const subject = encodeURIComponent(`Timesheet - ${jobsite} - ${date}`);
            const body = encodeURIComponent(document.getElementById('previewBox').textContent);
            window.location.href = `mailto:?subject=${subject}&body=${body}`;
        }

        function clearForm() {
            document.getElementById('foreman').value = '';
            document.getElementById('date').valueAsDate = new Date();
            document.getElementById('jobsite').value = '';
            document.getElementById('notes').value = '';
            document.getElementById('otherEquipment').value = '';
            
            workers.forEach(worker => {
                document.getElementById(`check_${worker}`).checked = false;
                document.getElementById(`hours_${worker}`).value = '';
                document.getElementById(`hours_${worker}`).disabled = true;
                document.getElementById(`check_${worker}`).closest('.worker-row').classList.remove('selected');
            });

            selectedEquipment.clear();
            document.querySelectorAll('.equipment-tag').forEach(tag => {
                tag.classList.remove('selected');
            });

            document.getElementById('previewSection').classList.remove('show');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }
    </script>
</body>
</html>
